// Code generated by goa v3.16.2, DO NOT EDIT.
//
// Sync service
//
// Command:
// $ goa gen mai.today/api/design

package sync

import (
	"context"

	goa "goa.design/goa/v3/pkg"
	"goa.design/goa/v3/security"
)

// 資料同步
type Service interface {
	// ReceiveSync implements receiveSync.
	ReceiveSync(context.Context, *ReceiveSyncPayload) (res *SyncResult, err error)
	// Sync implements sync.
	Sync(context.Context, *SyncPayload) (res *SyncResult, err error)
}

// Auther defines the authorization functions to be implemented by the service.
type Auther interface {
	// JWTAuth implements the authorization logic for the JWT security scheme.
	JWTAuth(ctx context.Context, token string, schema *security.JWTScheme) (context.Context, error)
}

// APIName is the name of the API as defined in the design.
const APIName = "api"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "1.0.0"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "Sync"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [2]string{"receiveSync", "sync"}

// 基地資訊
type BaseInfo struct {
	// 識別碼
	ID string
	// 基地識別碼
	BaseID string
	// 主題颜色
	Color string
	// 標識圖片的 URL
	Logo string
	// 名稱
	Name string
	// 刪除時間
	DeletedAt *string
}

// 基地導覽列狀態
type BaseNavState struct {
	// 識別碼
	ID string
	// 基地識別碼
	BaseID string
	// 順序
	Index int
	// 刪除時間
	DeletedAt *string
}

// 指令
type Command struct {
	// 類型
	Type string
}

// ReceiveSyncPayload is the payload type of the Sync service receiveSync
// method.
type ReceiveSyncPayload struct {
	JWT *string
	// 使用者識別碼
	Channel string
}

// SyncPayload is the payload type of the Sync service sync method.
type SyncPayload struct {
	JWT *string
	// 上次同步的時間戳記
	LastTimestamp *int64
}

type SyncPayloadData struct {
	BaseInfos     []*BaseInfo
	BaseNavStates []*BaseNavState
}

// SyncResult is the result type of the Sync service receiveSync method.
type SyncResult struct {
	Command *Command
	// 時間戳記
	Timestamp int64
	// 資料
	Data *SyncPayloadData
}

// MakeInvalidToken builds a goa.ServiceError from an error.
func MakeInvalidToken(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "invalid token", false, false, false)
}
